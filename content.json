{"meta":{"title":"Isabellaの碎碎念","subtitle":"","description":"","author":"John Doe","url":"http://example.com","root":"/"},"pages":[],"posts":[{"title":"","slug":"THM靶机渗透1","date":"2021-01-19T14:18:13.940Z","updated":"2021-01-19T14:54:10.197Z","comments":true,"path":"2021/01/19/THM靶机渗透1/","link":"","permalink":"http://example.com/2021/01/19/THM%E9%9D%B6%E6%9C%BA%E6%B8%97%E9%80%8F1/","excerpt":"","text":"Try Hack Me(一) [toc] Basic Pentesting Room部署靶机首先openvpn在kali机子上部署，命令行为 1sudo openvpn /path/xxx.opvn 部署成功如上图。 隐藏页面扫描部署成功后前两问显然攻破，接下来第三问询问该web的隐藏页面，老规矩先收集信息，nmap一波 12nmap -sC -sV 10.10.44.68 &gt; thmroom1.txt//该命令将10.10.44.68页面端口部署机器版本号及相关信息扫描完成后存入thmroom1.txt文件中方便后续查看 扫描结果如下图： 接下来经典dirsearch目录扫描： 12python3 dirsearch.py -u http://10.10.44.68/ -e*//确保进入了dirsearch的文件夹中，用python3使用，且最后一个-e*命令表示扫描的页面为全部格式 结果如上 强行查找用户密码第四问很离谱，没太搞懂，在网页端突然就要找用户密码什么的？QWQ 反正先登录/develop目录康康，发现有两个.txt文件，保存了两个人的对话，复制下来放Deepl里翻译康康（原谅本人渣渣英语水平QAQ）得到一点信息应该是打入靶机后找/etc/shadow目录，里面有薄弱环节。 此时回过头来查看刚才nmap扫描结果发现对方开启了22端口ssh登录，猜测可能是要我们暴力枚举，考虑了hydra，但在不知道user的情况下爆破极为困难。 参考了一款工具**enum4linux** 这里参考使用连接**我是连接** kali上调出来enum4linux使用方法./enum4linux.pl [options] ip(但不知道到它绝对路径所以换了种输入) 集合成命令行： 1enum4linux -a 10.10.44.68 | tee enum4linux.log//-a适合在什么都不知道的情况下使用 经过了漫长漫长的扫描等待环节，还有两次openvpn连接炸掉的事故后，终于扫出来了两人的名儿QAQ 妈妈我有钱了一定要换台牛逼的电脑玩渗透QAQ ！——记开Chrome和VMware内存占用92% 如图显然用户名为kay&amp;jan 同时下题还有询问连接什么访问服务器，SSH哇！takedown :) 爆破服务器ssh得到user后祭出hydra傻瓜神器爆破（我爆我自己？） 12hydra -l jan -P /usr/share/wordlists/rockyou.txt ssh://10.10.89.207 //因为是默认22端口所以无需修改ssh爆破端口，同时这里使用了kali自带字典rockyou.txt，也可自己去github上嫖些密码字典 kali自带字典： 爆破开始，好家伙这所需时间把我吓哭了 但是也就一小会儿，哇！（黑人欢呼.jpg） 废话少说，ssh登录注入提权一条龙 打入服务器连接上之后常规试探权限，注意到之前提到的/etc/shadow目录是个伏笔，测试了一圈全部permission denied。 显然接下来传提权马，github上嫖了一个linux的本地提权脚本，接下来传上去 欧克马已上传 1scp linpeas.sh jan@10.10.89.207:dev/shm 进入传输的文件夹后记得chmod增加权限 但是！出错了，脚本报错，为什么呢？因为这个脚本在github上被墙了我无法wget（我快气死了）所以我是手动复制粘贴的！今天只能到这儿了待续，明天继续打。","categories":[],"tags":[]},{"title":"","slug":"Googlehack基本语句","date":"2021-01-19T14:17:29.452Z","updated":"2021-01-01T13:58:40.029Z","comments":true,"path":"2021/01/19/Googlehack基本语句/","link":"","permalink":"http://example.com/2021/01/19/Googlehack%E5%9F%BA%E6%9C%AC%E8%AF%AD%E5%8F%A5/","excerpt":"","text":"Google Hack搜索语句 基本语句1.intitle​ intitle语法常常被用来搜索网站后台、特殊页面和文件，通过在Google中搜索“intitle:登录”、“intitle:管理”就可以找到很多网站的后台登录页面。此外，intitle语法还可以被用在搜索文件上，例如搜索“intitle:”indexof”etc/shadow”就可以找到Linux中因为配置不合理而泄露出来的用户密码文件。 2.inurl​ 作用分为以下两个方面：寻找网站后台登录地址，搜索特殊URL。 ​ 与intitle不同，inurl可以指定URL的关键字，许多网站后台URL都是类似“login.asp”，“admin.asp”结尾，所以eg:“inurl:login.asp”，“inurl:admin.asp”即可，同时，可以搜索网站数据库地址，以“inurl:data”，“inurl:db”为关键字进行搜索即可。 ​ 比如前段日子很火的上传漏洞，我们使用“inurl:upload.asp”或“inurl:upload_soft.asp”即可找到很多上传页面，此时再用工具进行木马上传就可以完成入侵。 3.intext​ intext的作用是搜索网页中的指定字符，这貌似在Google Hack中没有什么作用，不过在以“intext:to parent directory”为关键字进行搜索后，我们会很惊奇的发现，无数网站的目录暴露在我们眼前。我们可以在其中随意切换目录，浏览文件，就像拥有了一个简单的Webshell。形成这种现象的原因是由于IIS的配置疏忽。同样，中文IIS配置疏忽也可能出现类似的漏洞，我们用“intext:转到父目录”就可以找到很多有漏洞的中文网站。 4.Filetype​ Filetype的作用是搜索指定文件。假如我们要搜索网站的数据库文件，那么可以以“filetype:mdb”为关键字进行搜索，很快就可以下载到不少网站的数据库文件。 5.site​ Site语法可以显示所有和目标网站有联系的页面，从中或多或少存在一些关于目标网站的资料. 组合语句1.网站数据库​ “Site:目标网站”**获取相关网页，之后搜索“Site:目标网站 Filetype:mdb”就可以寻找目标网站的数据库，其中的Site语法限定搜索范围，Filetype决定搜索目标。用这种方法有一个缺点，就是下载到数据库的成功率较低。在这里我们还可以采用另一种语法组合，前提是目标网站存在IIS配置缺陷，即可以随意浏览站点文件夹，我们搜索“Site:目标网站 intext:to parent directory”来确定其是否存在此漏洞。在确定漏洞存在后，可以使用“Site:目标网站 intext:to parent directory+intext.mdb”**进行数据库的搜索。 2.登陆后台管理​ 下载到数据库后，我们就可以从中找到网站的管理员帐户和密码，并登录网站的后台。对于网站后台的查找，可以使用语法组合“Site:目标网站 intitle:管理”或者“Site:目标网站 inurl:login.asp”进行搜索，当然我们可以在这里进行联想，以不同的字符进行搜索，这样就有很大的概率可以找到网站的后台管理地址。接下去黑客就可以在后台上传Webshll，进一步提升权限，在此不再阐述。 google黑客搜索语法小结（适于新手）常用语法intext:关键字 把网页正文内某个关键字作为搜索条件 intitle:关键字 把网页标题内某个关键字作为搜索条件 inurl:关键字 搜索含有关键字的url地址 link:关键字 查找与关键字做了链接的url地址 site:域名 返回域名中所有url地址 filetype:文件名.后缀名 搜索特定的文件 *以上是比较有用的几个语法 用法例子：一：搜索注入漏洞站点 inurl:asp?id= 配合啊D使用 二：查找特定网站的注入漏洞 如要找搜狐的注入 site:sohu.com inurl:asp?id= 要是找php站的注入只要把asp换成php 三：对目标网站的搜索利用 找特定网站管理页面 site:网址 intext:管理 site:网址 inurl:login(登陆的页面) site:网址 intitle:管理 查看有无上传页面漏洞： site:网址 inurl:file site:网址 inurl:load 四：搜别人留下的webshell 如输入：绝对路径 输入保存的路径 输入文件的内容 inurl:diy.asp site:http://www.hybx.net intext site:http://www.hybx.net intext:管理 site:http://www.hybx.net inurl:login site:http://www.hybx.net intitle:管理 site:http://www.hybx.net inurl:login.asp site:http://www.hybx.netindex.asp inurl:asp?id= 六．网站的目录结构搜索 Parent directory site：baidu.com 七.黑客常用的语法 admin site:edu.cn site:sunghsot.cn intext:管理|后台|登录|用户名|密码|验证码|系统|账号|后台管理|后台登录 site:sunghsot.cn intitle:管理|后台|登录|用户名|密码|验证码|系统|账号|后台管理|后台登录 inurl:login/admin/manage/admin_login/login_admin/system/boos/master/main/cms/wp-admin/sys|managetem|password|username site:www.sunghost.cn inurl:file site:www.sunghost.cn inurl:load site:www.sunghost.cn inurl:php?id= site:www.sunghost.cn inurl:asp?id= site:www.sunghost.cn inurl:fck site:www.sunghost.cn inurl:ewebeditor inurl:ewebeditor|editor|uploadfile|eweb|edit intext:to parent directory intext:转到父目录/转到父路径 inurl:upload.asp inurl:cms/data/templates/images/index/ intitle:powered by dedecms index of/ppt Filetype:mdb site:www.sunghost.cn intext:to parent directory+intext.mdb inurl:robots.txt intitle:index.of “parent directory” 留意几种文件： .inc 可能包含网站的配置信息，如数据库用户名、密码等。 .bak 通常是一些文本编辑器在编辑源代码后留下的备份文件，可以让你知道与其对应的程序脚本文件中的大致内容。 .txt或 .sql 一般包含网站运行的sql脚本可能会透露类似数据库结构等信息。 特别注意名字为robots.txt的文件。","categories":[],"tags":[]},{"title":"my-first-blog","slug":"my-first-blog","date":"2021-01-19T13:53:53.000Z","updated":"2021-01-19T13:56:52.187Z","comments":true,"path":"2021/01/19/my-first-blog/","link":"","permalink":"http://example.com/2021/01/19/my-first-blog/","excerpt":"","text":"Isabellaの碎碎念 不定期更新日常碎碎念&amp;学习笔记 欢迎浏览喔！QWQ","categories":[],"tags":[]}],"categories":[],"tags":[]}